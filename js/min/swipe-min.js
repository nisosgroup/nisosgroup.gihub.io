function Swipe(n,t){"use strict";function e(){p=w.children,x=p.length,p.length<2&&(t.continuous=!1),f.transitions&&t.continuous&&p.length<3&&(w.appendChild(p[0].cloneNode(!0)),w.appendChild(w.children[1].cloneNode(!0)),p=w.children),E=new Array(p.length),m=n.getBoundingClientRect().width||n.offsetWidth,w.style.width=p.length*m+"px";for(var e=p.length;e--;){var i=p[e];i.style.width=m+"px",i.setAttribute("data-index",e),f.transitions&&(i.style.left=e*-m+"px",a(e,b>e?-m:e>b?m:0,0))}t.continuous&&f.transitions&&(a(s(b-1),-m,0),a(s(b+1),m,0)),f.transitions||(w.style.left=b*-m+"px"),n.style.visibility="visible"}function i(){t.continuous?r(b-1):b&&r(b-1)}function o(){t.continuous?r(b+1):b<p.length-1&&r(b+1)}function s(n){return(p.length+n%p.length)%p.length}function r(n,e){if(b!=n){if(f.transitions){var i=Math.abs(b-n)/(b-n);if(t.continuous){var o=i;i=-E[s(n)]/m,i!==o&&(n=-i*p.length+n)}for(var r=Math.abs(b-n)-1;r--;)a(s((n>b?n:b)-r-1),m*i,0);n=s(n),a(b,m*i,e||g),a(n,0,e||g),t.continuous&&a(s(n-i),-(m*i),0)}else n=s(n),c(b*-m,n*-m,e||g);b=n,h(t.callback&&t.callback(b,p[b]))}}function a(n,t,e){u(n,t,e),E[n]=t}function u(n,t,e){var i=p[n],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function c(n,e,i){if(!i)return void(w.style.left=e+"px");var o=+new Date,s=setInterval(function(){var r=+new Date-o;return r>i?(w.style.left=e+"px",T&&d(),t.transitionEnd&&t.transitionEnd.call(event,b,p[b]),void clearInterval(s)):void(w.style.left=(e-n)*(Math.floor(r/i*100)/100)+n+"px")},4)}function d(){y=setTimeout(o,T)}function l(){T=0,clearTimeout(y)}var v=function(){},h=function(n){setTimeout(n||v,0)},f={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(void 0!==n.style[t[e]])return!0;return!1}(document.createElement("swipe"))};if(n){var w=n.children[0],p,E,m,x;t=t||{};var b=parseInt(t.startSlide,10)||0,g=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var T=t.auto||0,y,L={},k={},D,M={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":h(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":h(this.transitionEnd(n));break;case"resize":h(e)}t.stopPropagation&&n.stopPropagation()},start:function(n){var t=n.touches[0];L={x:t.pageX,y:t.pageY,time:+new Date},D=void 0,k={},w.addEventListener("touchmove",this,!1),w.addEventListener("touchend",this,!1)},move:function(n){if(!(n.touches.length>1||n.scale&&1!==n.scale)){t.disableScroll&&n.preventDefault();var e=n.touches[0];k={x:e.pageX-L.x,y:e.pageY-L.y},"undefined"==typeof D&&(D=!!(D||Math.abs(k.x)<Math.abs(k.y))),D||(n.preventDefault(),l(),t.continuous?(u(s(b-1),k.x+E[s(b-1)],0),u(b,k.x+E[b],0),u(s(b+1),k.x+E[s(b+1)],0)):(k.x=k.x/(!b&&k.x>0||b==p.length-1&&k.x<0?Math.abs(k.x)/m+1:1),u(b-1,k.x+E[b-1],0),u(b,k.x+E[b],0),u(b+1,k.x+E[b+1],0)))}},end:function(n){var e=+new Date-L.time,i=Number(e)<250&&Math.abs(k.x)>20||Math.abs(k.x)>m/2,o=!b&&k.x>0||b==p.length-1&&k.x<0;t.continuous&&(o=!1);var r=k.x<0;D||(i&&!o?(r?(t.continuous?(a(s(b-1),-m,0),a(s(b+2),m,0)):a(b-1,-m,0),a(b,E[b]-m,g),a(s(b+1),E[s(b+1)]-m,g),b=s(b+1)):(t.continuous?(a(s(b+1),m,0),a(s(b-2),-m,0)):a(b+1,m,0),a(b,E[b]+m,g),a(s(b-1),E[s(b-1)]+m,g),b=s(b-1)),t.callback&&t.callback(b,p[b])):t.continuous?(a(s(b-1),-m,g),a(b,0,g),a(s(b+1),m,g)):(a(b-1,-m,g),a(b,0,g),a(b+1,m,g))),w.removeEventListener("touchmove",M,!1),w.removeEventListener("touchend",M,!1)},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==b&&(T&&d(),t.transitionEnd&&t.transitionEnd.call(n,b,p[b]))}};return e(),T&&d(),f.addEventListener?(f.touch&&w.addEventListener("touchstart",M,!1),f.transitions&&(w.addEventListener("webkitTransitionEnd",M,!1),w.addEventListener("msTransitionEnd",M,!1),w.addEventListener("oTransitionEnd",M,!1),w.addEventListener("otransitionend",M,!1),w.addEventListener("transitionend",M,!1)),window.addEventListener("resize",M,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(n,t){l(),r(n,t)},prev:function(){l(),i()},next:function(){l(),o()},stop:function(){l()},getPos:function(){return b},getNumSlides:function(){return x},kill:function(){l(),w.style.width="",w.style.left="";for(var n=p.length;n--;){var t=p[n];t.style.width="",t.style.left="",f.transitions&&u(n,0,0)}f.addEventListener?(w.removeEventListener("touchstart",M,!1),w.removeEventListener("webkitTransitionEnd",M,!1),w.removeEventListener("msTransitionEnd",M,!1),w.removeEventListener("oTransitionEnd",M,!1),w.removeEventListener("otransitionend",M,!1),w.removeEventListener("transitionend",M,!1),window.removeEventListener("resize",M,!1)):window.onresize=null}}}}(window.jQuery||window.Zepto)&&!function($){$.fn.Swipe=function(n){return this.each(function(){$(this).data("Swipe",new Swipe($(this)[0],n))})}}(window.jQuery||window.Zepto);